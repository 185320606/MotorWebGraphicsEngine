define(["exports","./when-7ef6387a","./DeveloperError-101d8eb9","./Cartesian3-ca5d3f12","./Ellipsoid-57478151","./Transforms-7a1c9ee7","./Cartesian2-d6edb867","./GeometryAttribute-c5b9902a"],(function(t,a,n,r,e,o,s,i){"use strict";var h=Math.cos,g=Math.sin,u=Math.sqrt,C={computePosition:function(t,n,r,e,o,s,i){var C=n.radiiSquared,c=t.nwCorner,l=t.boundingRectangle,d=c.latitude-t.granYCos*e+o*t.granXSin,S=h(d),w=g(d),M=C.z*w,m=c.longitude+e*t.granYSin+o*t.granXCos,p=S*h(m),v=S*g(m),X=C.x*p,Y=C.y*v,O=u(X*p+Y*v+M*w);if(s.x=X/O,s.y=Y/O,s.z=M/O,r){var R=t.stNwCorner;a.defined(R)?(d=R.latitude-t.stGranYCos*e+o*t.stGranXSin,m=R.longitude+e*t.stGranYSin+o*t.stGranXCos,i.x=(m-t.stWest)*t.lonScalar,i.y=(d-t.stSouth)*t.latScalar):(i.x=(m-l.west)*t.lonScalar,i.y=(d-l.south)*t.latScalar)}}},c=new i.Matrix2,l=new r.Cartesian3,d=new e.Cartographic,S=new r.Cartesian3,w=new o.GeographicProjection;function M(t,a,n,e,o,s,h){var g=Math.cos(a),u=e*g,C=n*g,d=Math.sin(a),M=e*d,m=n*d;l=w.project(t,l),l=r.Cartesian3.subtract(l,S,l);var p=i.Matrix2.fromRotation(a,c);l=i.Matrix2.multiplyByVector(p,l,l),l=r.Cartesian3.add(l,S,l),s-=1,h-=1;var v=(t=w.unproject(l,t)).latitude,X=v+s*m,Y=v-u*h,O=v-u*h+s*m,R=Math.max(v,X,Y,O),f=Math.min(v,X,Y,O),_=t.longitude,G=_+s*C,x=_+h*M,P=_+h*M+s*C;return{north:R,south:f,east:Math.max(_,G,x,P),west:Math.min(_,G,x,P),granYCos:u,granYSin:M,granXCos:C,granXSin:m,nwCorner:t}}C.computeOptions=function(t,a,e,o,i,h,g){var u,C,c,l,m,p=t.east,v=t.west,X=t.north,Y=t.south,O=!1,R=!1;X===r.CesiumMath.PI_OVER_TWO&&(O=!0),Y===-r.CesiumMath.PI_OVER_TWO&&(R=!0);var f=X-Y;c=(m=v>p?r.CesiumMath.TWO_PI-v+p:p-v)/((u=Math.ceil(m/a)+1)-1),l=f/((C=Math.ceil(f/a)+1)-1);var _=s.Rectangle.northwest(t,h),G=s.Rectangle.center(t,d);0===e&&0===o||(G.longitude<_.longitude&&(G.longitude+=r.CesiumMath.TWO_PI),S=w.project(G,S));var x=l,P=c,W=s.Rectangle.clone(t,i),y={granYCos:x,granYSin:0,granXCos:P,granXSin:0,nwCorner:_,boundingRectangle:W,width:u,height:C,northCap:O,southCap:R};if(0!==e){var E=M(_,e,c,l,0,u,C);if(X=E.north,Y=E.south,p=E.east,v=E.west,X<-r.CesiumMath.PI_OVER_TWO||X>r.CesiumMath.PI_OVER_TWO||Y<-r.CesiumMath.PI_OVER_TWO||Y>r.CesiumMath.PI_OVER_TWO)throw new n.DeveloperError("Rotated rectangle is invalid.  It crosses over either the north or south pole.");y.granYCos=E.granYCos,y.granYSin=E.granYSin,y.granXCos=E.granXCos,y.granXSin=E.granXSin,W.north=X,W.south=Y,W.east=p,W.west=v}if(0!==o){e-=o;var I=s.Rectangle.northwest(W,g),T=M(I,e,c,l,0,u,C);y.stGranYCos=T.granYCos,y.stGranXCos=T.granXCos,y.stGranYSin=T.granYSin,y.stGranXSin=T.granXSin,y.stNwCorner=I,y.stWest=T.west,y.stSouth=T.south}return y},t.RectangleGeometryLibrary=C}));
//# sourceMappingURL=RectangleGeometryLibrary-3afcd1d8.js.map

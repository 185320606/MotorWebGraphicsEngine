define(["exports","./when-7ef6387a","./Check-ed6a1804","./Math-85667bf9","./Cartesian3-2a8ef78e","./Ellipsoid-367a1bb3","./Transforms-2448ecca","./Cartesian2-dcadeea9","./GeometryAttribute-a3332dc3"],(function(t,a,n,r,e,o,s,i,h){"use strict";var g=Math.cos,u=Math.sin,c=Math.sqrt,C={computePosition:function(t,n,r,e,o,s,i){var h=n.radiiSquared,C=t.nwCorner,l=t.boundingRectangle,d=C.latitude-t.granYCos*e+o*t.granXSin,M=g(d),S=u(d),w=h.z*S,m=C.longitude+e*t.granYSin+o*t.granXCos,X=M*g(m),Y=M*u(m),f=h.x*X,p=h.y*Y,v=c(f*X+p*Y+w*S);if(s.x=f/v,s.y=p/v,s.z=w/v,r){var O=t.stNwCorner;a.defined(O)?(d=O.latitude-t.stGranYCos*e+o*t.stGranXSin,m=O.longitude+e*t.stGranYSin+o*t.stGranXCos,i.x=(m-t.stWest)*t.lonScalar,i.y=(d-t.stSouth)*t.latScalar):(i.x=(m-l.west)*t.lonScalar,i.y=(d-l.south)*t.latScalar)}}},l=new h.Matrix2,d=new e.Cartesian3,M=new o.Cartographic,S=new e.Cartesian3,w=new s.GeographicProjection;function m(t,a,n,r,o,s,i){var g=Math.cos(a),u=r*g,c=n*g,C=Math.sin(a),M=r*C,m=n*C;d=w.project(t,d),d=e.Cartesian3.subtract(d,S,d);var X=h.Matrix2.fromRotation(a,l);d=h.Matrix2.multiplyByVector(X,d,d),d=e.Cartesian3.add(d,S,d),s-=1,i-=1;var Y=(t=w.unproject(d,t)).latitude,f=Y+s*m,p=Y-u*i,v=Y-u*i+s*m,O=Math.max(Y,f,p,v),R=Math.min(Y,f,p,v),_=t.longitude,G=_+s*c,x=_+i*M,P=_+i*M+s*c;return{north:O,south:R,east:Math.max(_,G,x,P),west:Math.min(_,G,x,P),granYCos:u,granYSin:M,granXCos:c,granXSin:m,nwCorner:t}}C.computeOptions=function(t,a,e,o,s,h,g){var u,c,C,l,d,X=t.east,Y=t.west,f=t.north,p=t.south,v=!1,O=!1;f===r.CesiumMath.PI_OVER_TWO&&(v=!0),p===-r.CesiumMath.PI_OVER_TWO&&(O=!0);var R=f-p;C=(d=Y>X?r.CesiumMath.TWO_PI-Y+X:X-Y)/((u=Math.ceil(d/a)+1)-1),l=R/((c=Math.ceil(R/a)+1)-1);var _=i.Rectangle.northwest(t,h),G=i.Rectangle.center(t,M);0===e&&0===o||(G.longitude<_.longitude&&(G.longitude+=r.CesiumMath.TWO_PI),S=w.project(G,S));var x=l,P=C,W=i.Rectangle.clone(t,s),y={granYCos:x,granYSin:0,granXCos:P,granXSin:0,nwCorner:_,boundingRectangle:W,width:u,height:c,northCap:v,southCap:O};if(0!==e){var I=m(_,e,C,l,0,u,c);if(f=I.north,p=I.south,X=I.east,Y=I.west,f<-r.CesiumMath.PI_OVER_TWO||f>r.CesiumMath.PI_OVER_TWO||p<-r.CesiumMath.PI_OVER_TWO||p>r.CesiumMath.PI_OVER_TWO)throw new n.DeveloperError("Rotated rectangle is invalid.  It crosses over either the north or south pole.");y.granYCos=I.granYCos,y.granYSin=I.granYSin,y.granXCos=I.granXCos,y.granXSin=I.granXSin,W.north=f,W.south=p,W.east=X,W.west=Y}if(0!==o){e-=o;var T=i.Rectangle.northwest(W,g),b=m(T,e,C,l,0,u,c);y.stGranYCos=b.granYCos,y.stGranXCos=b.granXCos,y.stGranYSin=b.granYSin,y.stGranXSin=b.granXSin,y.stNwCorner=T,y.stWest=b.west,y.stSouth=b.south}return y},t.RectangleGeometryLibrary=C}));
//# sourceMappingURL=RectangleGeometryLibrary-cac61699.js.map

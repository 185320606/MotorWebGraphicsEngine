define(["exports","./when-7ef6387a","./DeveloperError-101d8eb9"],(function(e,r,n){"use strict";var t,u,l,i,s,o,c,f,a,d,p,m,v,A,g,y,F,E,b={requestFullscreen:void 0,exitFullscreen:void 0,fullscreenEnabled:void 0,fullscreenElement:void 0,fullscreenchange:void 0,fullscreenerror:void 0},h={};function x(e){for(var r=e.split("."),n=0,t=r.length;n<t;++n)r[n]=parseInt(r[n],10);return r}function w(){if(!r.defined(l)&&(l=!1,!I())){var e=/ Chrome\/([\.0-9]+)/.exec(u.userAgent);null!==e&&(l=!0,i=x(e[1]))}return l}function _(){if(!r.defined(s)&&(s=!1,!w()&&!I()&&/ Safari\/[\.0-9]+/.test(u.userAgent))){var e=/ Version\/([\.0-9]+)/.exec(u.userAgent);null!==e&&(s=!0,o=x(e[1]))}return s}function W(){if(!r.defined(c)){c=!1;var e=/ AppleWebKit\/([\.0-9]+)(\+?)/.exec(u.userAgent);null!==e&&(c=!0,(f=x(e[1])).isNightly=!!e[2])}return c}function C(){var e;r.defined(a)||(a=!1,"Microsoft Internet Explorer"===u.appName?null!==(e=/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(u.userAgent))&&(a=!0,d=x(e[1])):"Netscape"===u.appName&&null!==(e=/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(u.userAgent))&&(a=!0,d=x(e[1])));return a}function I(){if(!r.defined(p)){p=!1;var e=/ Edge\/([\.0-9]+)/.exec(u.userAgent);null!==e&&(p=!0,m=x(e[1]))}return p}function V(){if(!r.defined(v)){v=!1;var e=/Firefox\/([\.0-9]+)/.exec(u.userAgent);null!==e&&(v=!0,A=x(e[1]))}return v}function P(){if(!r.defined(E)){var e=document.createElement("canvas");e.setAttribute("style","image-rendering: -moz-crisp-edges;image-rendering: pixelated;");var n=e.style.imageRendering;(E=r.defined(n)&&""!==n)&&(F=n)}return E}function S(){if(!S.initialized)throw new n.DeveloperError("You must call FeatureDetection.supportsWebP.initialize and wait for the promise to resolve before calling FeatureDetection.supportsWebP");return S._result}Object.defineProperties(h,{element:{get:function(){if(h.supportsFullscreen())return document[b.fullscreenElement]}},changeEventName:{get:function(){if(h.supportsFullscreen())return b.fullscreenchange}},errorEventName:{get:function(){if(h.supportsFullscreen())return b.fullscreenerror}},enabled:{get:function(){if(h.supportsFullscreen())return document[b.fullscreenEnabled]}},fullscreen:{get:function(){if(h.supportsFullscreen())return null!==h.element}}}),h.supportsFullscreen=function(){if(r.defined(t))return t;t=!1;var e=document.body;if("function"==typeof e.requestFullscreen)return b.requestFullscreen="requestFullscreen",b.exitFullscreen="exitFullscreen",b.fullscreenEnabled="fullscreenEnabled",b.fullscreenElement="fullscreenElement",b.fullscreenchange="fullscreenchange",b.fullscreenerror="fullscreenerror",t=!0;for(var n,u=["webkit","moz","o","ms","khtml"],l=0,i=u.length;l<i;++l){var s=u[l];("function"==typeof e[n=s+"RequestFullscreen"]||"function"==typeof e[n=s+"RequestFullScreen"])&&(b.requestFullscreen=n,t=!0),n=s+"ExitFullscreen","function"==typeof document[n]?b.exitFullscreen=n:(n=s+"CancelFullScreen","function"==typeof document[n]&&(b.exitFullscreen=n)),n=s+"FullscreenEnabled",void 0!==document[n]?b.fullscreenEnabled=n:(n=s+"FullScreenEnabled",void 0!==document[n]&&(b.fullscreenEnabled=n)),n=s+"FullscreenElement",void 0!==document[n]?b.fullscreenElement=n:(n=s+"FullScreenElement",void 0!==document[n]&&(b.fullscreenElement=n)),n=s+"fullscreenchange",void 0!==document["on"+n]&&("ms"===s&&(n="MSFullscreenChange"),b.fullscreenchange=n),n=s+"fullscreenerror",void 0!==document["on"+n]&&("ms"===s&&(n="MSFullscreenError"),b.fullscreenerror=n)}return t},h.requestFullscreen=function(e,r){h.supportsFullscreen()&&e[b.requestFullscreen]({vrDisplay:r})},h.exitFullscreen=function(){h.supportsFullscreen()&&document[b.exitFullscreen]()},h._names=b,u="undefined"!=typeof navigator?navigator:{},S._promise=void 0,S._result=void 0,S.initialize=function(){if(r.defined(S._promise))return S._promise;var e=r.when.defer();if(S._promise=e.promise,I())return S._result=!1,e.resolve(S._result),e.promise;var n=new Image;return n.onload=function(){S._result=n.width>0&&n.height>0,e.resolve(S._result)},n.onerror=function(){S._result=!1,e.resolve(S._result)},n.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",e.promise},Object.defineProperties(S,{initialized:{get:function(){return r.defined(S._result)}}});var q=[];"undefined"!=typeof ArrayBuffer&&(q.push(Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array),"undefined"!=typeof Uint8ClampedArray&&q.push(Uint8ClampedArray),"undefined"!=typeof CanvasPixelArray&&q.push(CanvasPixelArray));var D={isChrome:w,chromeVersion:function(){return w()&&i},isSafari:_,safariVersion:function(){return _()&&o},isWebkit:W,webkitVersion:function(){return W()&&f},isInternetExplorer:C,internetExplorerVersion:function(){return C()&&d},isEdge:I,edgeVersion:function(){return I()&&m},isFirefox:V,firefoxVersion:function(){return V()&&A},isWindows:function(){return r.defined(g)||(g=/Windows/i.test(u.appVersion)),g},hardwareConcurrency:r.defaultValue(u.hardwareConcurrency,3),supportsPointerEvents:function(){return r.defined(y)||(y=!V()&&"undefined"!=typeof PointerEvent&&(!r.defined(u.pointerEnabled)||u.pointerEnabled)),y},supportsImageRenderingPixelated:P,supportsWebP:S,imageRenderingValue:function(){return P()?F:void 0},typedArrayTypes:q,supportsFullscreen:function(){return h.supportsFullscreen()},supportsTypedArrays:function(){return"undefined"!=typeof ArrayBuffer},supportsWebWorkers:function(){return"undefined"!=typeof Worker},supportsWebAssembly:function(){return"undefined"!=typeof WebAssembly&&!D.isEdge()}};e.FeatureDetection=D}));
//# sourceMappingURL=FeatureDetection-c366f716.js.map

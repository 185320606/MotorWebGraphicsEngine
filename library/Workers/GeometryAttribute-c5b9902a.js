define(["exports","./when-7ef6387a","./DeveloperError-101d8eb9","./Check-71521db1","./Cartesian3-ca5d3f12","./Ellipsoid-57478151","./Transforms-7a1c9ee7","./Matrix4-027dd006","./Cartesian2-d6edb867","./PrimitiveType-4c1d698a"],(function(e,t,r,n,a,i,o,u,c,s){"use strict";var f=Object.freeze({NONE:0,TRIANGLES:1,LINES:2,POLYLINES:3});function l(e,r,n,a){this[0]=t.defaultValue(e,0),this[1]=t.defaultValue(n,0),this[2]=t.defaultValue(r,0),this[3]=t.defaultValue(a,0)}l.packedLength=4,l.pack=function(e,r,a){return n.Check.typeOf.object("value",e),n.Check.defined("array",r),a=t.defaultValue(a,0),r[a++]=e[0],r[a++]=e[1],r[a++]=e[2],r[a++]=e[3],r},l.unpack=function(e,r,a){return n.Check.defined("array",e),r=t.defaultValue(r,0),t.defined(a)||(a=new l),a[0]=e[r++],a[1]=e[r++],a[2]=e[r++],a[3]=e[r++],a},l.clone=function(e,r){if(t.defined(e))return t.defined(r)?(r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r):new l(e[0],e[2],e[1],e[3])},l.fromArray=function(e,r,a){return n.Check.defined("array",e),r=t.defaultValue(r,0),t.defined(a)||(a=new l),a[0]=e[r],a[1]=e[r+1],a[2]=e[r+2],a[3]=e[r+3],a},l.fromColumnMajorArray=function(e,t){return n.Check.defined("values",e),l.clone(e,t)},l.fromRowMajorArray=function(e,r){return n.Check.defined("values",e),t.defined(r)?(r[0]=e[0],r[1]=e[2],r[2]=e[1],r[3]=e[3],r):new l(e[0],e[1],e[2],e[3])},l.fromScale=function(e,r){return n.Check.typeOf.object("scale",e),t.defined(r)?(r[0]=e.x,r[1]=0,r[2]=0,r[3]=e.y,r):new l(e.x,0,0,e.y)},l.fromUniformScale=function(e,r){return n.Check.typeOf.number("scale",e),t.defined(r)?(r[0]=e,r[1]=0,r[2]=0,r[3]=e,r):new l(e,0,0,e)},l.fromRotation=function(e,r){n.Check.typeOf.number("angle",e);var a=Math.cos(e),i=Math.sin(e);return t.defined(r)?(r[0]=a,r[1]=i,r[2]=-i,r[3]=a,r):new l(a,-i,i,a)},l.toArray=function(e,r){return n.Check.typeOf.object("matrix",e),t.defined(r)?(r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r):[e[0],e[1],e[2],e[3]]},l.getElementIndex=function(e,t){return n.Check.typeOf.number.greaterThanOrEquals("row",t,0),n.Check.typeOf.number.lessThanOrEquals("row",t,1),n.Check.typeOf.number.greaterThanOrEquals("column",e,0),n.Check.typeOf.number.lessThanOrEquals("column",e,1),2*e+t},l.getColumn=function(e,t,r){n.Check.typeOf.object("matrix",e),n.Check.typeOf.number.greaterThanOrEquals("index",t,0),n.Check.typeOf.number.lessThanOrEquals("index",t,1),n.Check.typeOf.object("result",r);var a=2*t,i=e[a],o=e[a+1];return r.x=i,r.y=o,r},l.setColumn=function(e,t,r,a){n.Check.typeOf.object("matrix",e),n.Check.typeOf.number.greaterThanOrEquals("index",t,0),n.Check.typeOf.number.lessThanOrEquals("index",t,1),n.Check.typeOf.object("cartesian",r),n.Check.typeOf.object("result",a);var i=2*t;return(a=l.clone(e,a))[i]=r.x,a[i+1]=r.y,a},l.getRow=function(e,t,r){n.Check.typeOf.object("matrix",e),n.Check.typeOf.number.greaterThanOrEquals("index",t,0),n.Check.typeOf.number.lessThanOrEquals("index",t,1),n.Check.typeOf.object("result",r);var a=e[t],i=e[t+2];return r.x=a,r.y=i,r},l.setRow=function(e,t,r,a){return n.Check.typeOf.object("matrix",e),n.Check.typeOf.number.greaterThanOrEquals("index",t,0),n.Check.typeOf.number.lessThanOrEquals("index",t,1),n.Check.typeOf.object("cartesian",r),n.Check.typeOf.object("result",a),(a=l.clone(e,a))[t]=r.x,a[t+2]=r.y,a};var h=new c.Cartesian2;l.getScale=function(e,t){return n.Check.typeOf.object("matrix",e),n.Check.typeOf.object("result",t),t.x=c.Cartesian2.magnitude(c.Cartesian2.fromElements(e[0],e[1],h)),t.y=c.Cartesian2.magnitude(c.Cartesian2.fromElements(e[2],e[3],h)),t};var p=new c.Cartesian2;function y(e){e=t.defaultValue(e,t.defaultValue.EMPTY_OBJECT),n.Check.typeOf.object("options.attributes",e.attributes),this.attributes=e.attributes,this.indices=e.indices,this.primitiveType=t.defaultValue(e.primitiveType,s.PrimitiveType.TRIANGLES),this.boundingSphere=e.boundingSphere,this.geometryType=t.defaultValue(e.geometryType,f.NONE),this.boundingSphereCV=e.boundingSphereCV,this.offsetAttribute=e.offsetAttribute}l.getMaximumScale=function(e){return l.getScale(e,p),c.Cartesian2.maximumComponent(p)},l.multiply=function(e,t,r){n.Check.typeOf.object("left",e),n.Check.typeOf.object("right",t),n.Check.typeOf.object("result",r);var a=e[0]*t[0]+e[2]*t[1],i=e[0]*t[2]+e[2]*t[3],o=e[1]*t[0]+e[3]*t[1],u=e[1]*t[2]+e[3]*t[3];return r[0]=a,r[1]=o,r[2]=i,r[3]=u,r},l.add=function(e,t,r){return n.Check.typeOf.object("left",e),n.Check.typeOf.object("right",t),n.Check.typeOf.object("result",r),r[0]=e[0]+t[0],r[1]=e[1]+t[1],r[2]=e[2]+t[2],r[3]=e[3]+t[3],r},l.subtract=function(e,t,r){return n.Check.typeOf.object("left",e),n.Check.typeOf.object("right",t),n.Check.typeOf.object("result",r),r[0]=e[0]-t[0],r[1]=e[1]-t[1],r[2]=e[2]-t[2],r[3]=e[3]-t[3],r},l.multiplyByVector=function(e,t,r){n.Check.typeOf.object("matrix",e),n.Check.typeOf.object("cartesian",t),n.Check.typeOf.object("result",r);var a=e[0]*t.x+e[2]*t.y,i=e[1]*t.x+e[3]*t.y;return r.x=a,r.y=i,r},l.multiplyByScalar=function(e,t,r){return n.Check.typeOf.object("matrix",e),n.Check.typeOf.number("scalar",t),n.Check.typeOf.object("result",r),r[0]=e[0]*t,r[1]=e[1]*t,r[2]=e[2]*t,r[3]=e[3]*t,r},l.multiplyByScale=function(e,t,r){return n.Check.typeOf.object("matrix",e),n.Check.typeOf.object("scale",t),n.Check.typeOf.object("result",r),r[0]=e[0]*t.x,r[1]=e[1]*t.x,r[2]=e[2]*t.y,r[3]=e[3]*t.y,r},l.negate=function(e,t){return n.Check.typeOf.object("matrix",e),n.Check.typeOf.object("result",t),t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t},l.transpose=function(e,t){n.Check.typeOf.object("matrix",e),n.Check.typeOf.object("result",t);var r=e[0],a=e[2],i=e[1],o=e[3];return t[0]=r,t[1]=a,t[2]=i,t[3]=o,t},l.abs=function(e,t){return n.Check.typeOf.object("matrix",e),n.Check.typeOf.object("result",t),t[0]=Math.abs(e[0]),t[1]=Math.abs(e[1]),t[2]=Math.abs(e[2]),t[3]=Math.abs(e[3]),t},l.equals=function(e,r){return e===r||t.defined(e)&&t.defined(r)&&e[0]===r[0]&&e[1]===r[1]&&e[2]===r[2]&&e[3]===r[3]},l.equalsArray=function(e,t,r){return e[0]===t[r]&&e[1]===t[r+1]&&e[2]===t[r+2]&&e[3]===t[r+3]},l.equalsEpsilon=function(e,r,a){return n.Check.typeOf.number("epsilon",a),e===r||t.defined(e)&&t.defined(r)&&Math.abs(e[0]-r[0])<=a&&Math.abs(e[1]-r[1])<=a&&Math.abs(e[2]-r[2])<=a&&Math.abs(e[3]-r[3])<=a},l.IDENTITY=Object.freeze(new l(1,0,0,1)),l.ZERO=Object.freeze(new l(0,0,0,0)),l.COLUMN0ROW0=0,l.COLUMN0ROW1=1,l.COLUMN1ROW0=2,l.COLUMN1ROW1=3,Object.defineProperties(l.prototype,{length:{get:function(){return l.packedLength}}}),l.prototype.clone=function(e){return l.clone(this,e)},l.prototype.equals=function(e){return l.equals(this,e)},l.prototype.equalsEpsilon=function(e,t){return l.equalsEpsilon(this,e,t)},l.prototype.toString=function(){return"("+this[0]+", "+this[2]+")\n("+this[1]+", "+this[3]+")"},y.computeNumberOfVertices=function(e){n.Check.typeOf.object("geometry",e);var a=-1;for(var i in e.attributes)if(e.attributes.hasOwnProperty(i)&&t.defined(e.attributes[i])&&t.defined(e.attributes[i].values)){var o=e.attributes[i],u=o.values.length/o.componentsPerAttribute;if(a!==u&&-1!==a)throw new r.DeveloperError("All attribute lists must have the same number of attributes.");a=u}return a};var b=new i.Cartographic,m=new a.Cartesian3,d=new u.Matrix4,C=[new i.Cartographic,new i.Cartographic,new i.Cartographic],O=[new c.Cartesian2,new c.Cartesian2,new c.Cartesian2],k=[new c.Cartesian2,new c.Cartesian2,new c.Cartesian2],x=new a.Cartesian3,w=new o.Quaternion,j=new u.Matrix4,g=new l;y._textureCoordinateRotationPoints=function(e,t,r,n){var s,f=c.Rectangle.center(n,b),h=i.Cartographic.toCartesian(f,r,m),p=o.Transforms.eastNorthUpToFixedFrame(h,r,d),y=u.Matrix4.inverse(p,d),E=O,v=C;v[0].longitude=n.west,v[0].latitude=n.south,v[1].longitude=n.west,v[1].latitude=n.north,v[2].longitude=n.east,v[2].latitude=n.south;var T=x;for(s=0;s<3;s++)i.Cartographic.toCartesian(v[s],r,T),T=u.Matrix4.multiplyByPointAsVector(y,T,T),E[s].x=T.x,E[s].y=T.y;var M=o.Quaternion.fromAxisAngle(a.Cartesian3.UNIT_Z,-t,w),N=u.Matrix3.fromQuaternion(M,j),A=e.length,I=Number.POSITIVE_INFINITY,V=Number.POSITIVE_INFINITY,q=Number.NEGATIVE_INFINITY,P=Number.NEGATIVE_INFINITY;for(s=0;s<A;s++)T=u.Matrix4.multiplyByPointAsVector(y,e[s],T),T=u.Matrix3.multiplyByVector(N,T,T),I=Math.min(I,T.x),V=Math.min(V,T.y),q=Math.max(q,T.x),P=Math.max(P,T.y);var S=l.fromRotation(t,g),R=k;R[0].x=I,R[0].y=V,R[1].x=I,R[1].y=P,R[2].x=q,R[2].y=V;var D=E[0],L=E[2].x-D.x,B=E[1].y-D.y;for(s=0;s<3;s++){var Y=R[s];l.multiplyByVector(S,Y,Y),Y.x=(Y.x-D.x)/L,Y.y=(Y.y-D.y)/B}var _=R[0],G=R[1],U=R[2],F=new Array(6);return c.Cartesian2.pack(_,F),c.Cartesian2.pack(G,F,2),c.Cartesian2.pack(U,F,4),F},e.Geometry=y,e.GeometryAttribute=function(e){if(e=t.defaultValue(e,t.defaultValue.EMPTY_OBJECT),!t.defined(e.componentDatatype))throw new r.DeveloperError("options.componentDatatype is required.");if(!t.defined(e.componentsPerAttribute))throw new r.DeveloperError("options.componentsPerAttribute is required.");if(e.componentsPerAttribute<1||e.componentsPerAttribute>4)throw new r.DeveloperError("options.componentsPerAttribute must be between 1 and 4.");if(!t.defined(e.values))throw new r.DeveloperError("options.values is required.");this.componentDatatype=e.componentDatatype,this.componentsPerAttribute=e.componentsPerAttribute,this.normalize=t.defaultValue(e.normalize,!1),this.values=e.values},e.GeometryType=f,e.Matrix2=l}));
//# sourceMappingURL=GeometryAttribute-c5b9902a.js.map

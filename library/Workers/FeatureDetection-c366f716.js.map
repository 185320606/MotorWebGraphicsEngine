{"version":3,"file":"FeatureDetection-c366f716.js","sources":["../../../../Source/Core/Fullscreen.js","../../../../Source/Core/FeatureDetection.js"],"sourcesContent":["import defined from './defined.js';\r\n\r\n    var _supportsFullscreen;\r\n    var _names = {\r\n        requestFullscreen : undefined,\r\n        exitFullscreen : undefined,\r\n        fullscreenEnabled : undefined,\r\n        fullscreenElement : undefined,\r\n        fullscreenchange : undefined,\r\n        fullscreenerror : undefined\r\n    };\r\n\r\n    /**\r\n     * Browser-independent functions for working with the standard fullscreen API.\r\n     *\r\n     * @exports Fullscreen\r\n     * @namespace\r\n     *\r\n     * @see {@link http://dvcs.w3.org/hg/fullscreen/raw-file/tip/Overview.html|W3C Fullscreen Living Specification}\r\n     */\r\n    var Fullscreen = {};\r\n\r\n    Object.defineProperties(Fullscreen, {\r\n        /**\r\n         * The element that is currently fullscreen, if any.  To simply check if the\r\n         * browser is in fullscreen mode or not, use {@link Fullscreen#fullscreen}.\r\n         * @memberof Fullscreen\r\n         * @type {Object}\r\n         * @readonly\r\n         */\r\n        element : {\r\n            get : function() {\r\n                if (!Fullscreen.supportsFullscreen()) {\r\n                    return undefined;\r\n                }\r\n\r\n                return document[_names.fullscreenElement];\r\n            }\r\n        },\r\n\r\n        /**\r\n         * The name of the event on the document that is fired when fullscreen is\r\n         * entered or exited.  This event name is intended for use with addEventListener.\r\n         * In your event handler, to determine if the browser is in fullscreen mode or not,\r\n         * use {@link Fullscreen#fullscreen}.\r\n         * @memberof Fullscreen\r\n         * @type {String}\r\n         * @readonly\r\n         */\r\n        changeEventName : {\r\n            get : function() {\r\n                if (!Fullscreen.supportsFullscreen()) {\r\n                    return undefined;\r\n                }\r\n\r\n                return _names.fullscreenchange;\r\n            }\r\n        },\r\n\r\n        /**\r\n         * The name of the event that is fired when a fullscreen error\r\n         * occurs.  This event name is intended for use with addEventListener.\r\n         * @memberof Fullscreen\r\n         * @type {String}\r\n         * @readonly\r\n         */\r\n        errorEventName : {\r\n            get : function() {\r\n                if (!Fullscreen.supportsFullscreen()) {\r\n                    return undefined;\r\n                }\r\n\r\n                return _names.fullscreenerror;\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Determine whether the browser will allow an element to be made fullscreen, or not.\r\n         * For example, by default, iframes cannot go fullscreen unless the containing page\r\n         * adds an \"allowfullscreen\" attribute (or prefixed equivalent).\r\n         * @memberof Fullscreen\r\n         * @type {Boolean}\r\n         * @readonly\r\n         */\r\n        enabled : {\r\n            get : function() {\r\n                if (!Fullscreen.supportsFullscreen()) {\r\n                    return undefined;\r\n                }\r\n\r\n                return document[_names.fullscreenEnabled];\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Determines if the browser is currently in fullscreen mode.\r\n         * @memberof Fullscreen\r\n         * @type {Boolean}\r\n         * @readonly\r\n         */\r\n        fullscreen : {\r\n            get : function() {\r\n                if (!Fullscreen.supportsFullscreen()) {\r\n                    return undefined;\r\n                }\r\n\r\n                return Fullscreen.element !== null;\r\n            }\r\n        }\r\n    });\r\n\r\n    /**\r\n     * Detects whether the browser supports the standard fullscreen API.\r\n     *\r\n     * @returns {Boolean} <code>true</code> if the browser supports the standard fullscreen API,\r\n     * <code>false</code> otherwise.\r\n     */\r\n    Fullscreen.supportsFullscreen = function() {\r\n        if (defined(_supportsFullscreen)) {\r\n            return _supportsFullscreen;\r\n        }\r\n\r\n        _supportsFullscreen = false;\r\n\r\n        var body = document.body;\r\n        if (typeof body.requestFullscreen === 'function') {\r\n            // go with the unprefixed, standard set of names\r\n            _names.requestFullscreen = 'requestFullscreen';\r\n            _names.exitFullscreen = 'exitFullscreen';\r\n            _names.fullscreenEnabled = 'fullscreenEnabled';\r\n            _names.fullscreenElement = 'fullscreenElement';\r\n            _names.fullscreenchange = 'fullscreenchange';\r\n            _names.fullscreenerror = 'fullscreenerror';\r\n            _supportsFullscreen = true;\r\n            return _supportsFullscreen;\r\n        }\r\n\r\n        //check for the correct combination of prefix plus the various names that browsers use\r\n        var prefixes = ['webkit', 'moz', 'o', 'ms', 'khtml'];\r\n        var name;\r\n        for (var i = 0, len = prefixes.length; i < len; ++i) {\r\n            var prefix = prefixes[i];\r\n\r\n            // casing of Fullscreen differs across browsers\r\n            name = prefix + 'RequestFullscreen';\r\n            if (typeof body[name] === 'function') {\r\n                _names.requestFullscreen = name;\r\n                _supportsFullscreen = true;\r\n            } else {\r\n                name = prefix + 'RequestFullScreen';\r\n                if (typeof body[name] === 'function') {\r\n                    _names.requestFullscreen = name;\r\n                    _supportsFullscreen = true;\r\n                }\r\n            }\r\n\r\n            // disagreement about whether it's \"exit\" as per spec, or \"cancel\"\r\n            name = prefix + 'ExitFullscreen';\r\n            if (typeof document[name] === 'function') {\r\n                _names.exitFullscreen = name;\r\n            } else {\r\n                name = prefix + 'CancelFullScreen';\r\n                if (typeof document[name] === 'function') {\r\n                    _names.exitFullscreen = name;\r\n                }\r\n            }\r\n\r\n            // casing of Fullscreen differs across browsers\r\n            name = prefix + 'FullscreenEnabled';\r\n            if (document[name] !== undefined) {\r\n                _names.fullscreenEnabled = name;\r\n            } else {\r\n                name = prefix + 'FullScreenEnabled';\r\n                if (document[name] !== undefined) {\r\n                    _names.fullscreenEnabled = name;\r\n                }\r\n            }\r\n\r\n            // casing of Fullscreen differs across browsers\r\n            name = prefix + 'FullscreenElement';\r\n            if (document[name] !== undefined) {\r\n                _names.fullscreenElement = name;\r\n            } else {\r\n                name = prefix + 'FullScreenElement';\r\n                if (document[name] !== undefined) {\r\n                    _names.fullscreenElement = name;\r\n                }\r\n            }\r\n\r\n            // thankfully, event names are all lowercase per spec\r\n            name = prefix + 'fullscreenchange';\r\n            // event names do not have 'on' in the front, but the property on the document does\r\n            if (document['on' + name] !== undefined) {\r\n                //except on IE\r\n                if (prefix === 'ms') {\r\n                    name = 'MSFullscreenChange';\r\n                }\r\n                _names.fullscreenchange = name;\r\n            }\r\n\r\n            name = prefix + 'fullscreenerror';\r\n            if (document['on' + name] !== undefined) {\r\n                //except on IE\r\n                if (prefix === 'ms') {\r\n                    name = 'MSFullscreenError';\r\n                }\r\n                _names.fullscreenerror = name;\r\n            }\r\n        }\r\n\r\n        return _supportsFullscreen;\r\n    };\r\n\r\n    /**\r\n     * Asynchronously requests the browser to enter fullscreen mode on the given element.\r\n     * If fullscreen mode is not supported by the browser, does nothing.\r\n     *\r\n     * @param {Object} element The HTML element which will be placed into fullscreen mode.\r\n     * @param {HMDVRDevice} [vrDevice] The VR device.\r\n     *\r\n     * @example\r\n     * // Put the entire page into fullscreen.\r\n     * Cesium.Fullscreen.requestFullscreen(document.body)\r\n     *\r\n     * // Place only the Cesium canvas into fullscreen.\r\n     * Cesium.Fullscreen.requestFullscreen(scene.canvas)\r\n     */\r\n    Fullscreen.requestFullscreen = function(element, vrDevice) {\r\n        if (!Fullscreen.supportsFullscreen()) {\r\n            return;\r\n        }\r\n\r\n        element[_names.requestFullscreen]({ vrDisplay: vrDevice });\r\n    };\r\n\r\n    /**\r\n     * Asynchronously exits fullscreen mode.  If the browser is not currently\r\n     * in fullscreen, or if fullscreen mode is not supported by the browser, does nothing.\r\n     */\r\n    Fullscreen.exitFullscreen = function() {\r\n        if (!Fullscreen.supportsFullscreen()) {\r\n            return;\r\n        }\r\n\r\n        document[_names.exitFullscreen]();\r\n    };\r\n\r\n    //For unit tests\r\n    Fullscreen._names = _names;\r\nexport default Fullscreen;\r\n","import when from '../ThirdParty/when.js';\r\nimport defaultValue from './defaultValue.js';\r\nimport defined from './defined.js';\r\nimport DeveloperError from './DeveloperError.js';\r\nimport Fullscreen from './Fullscreen.js';\r\n    /*global CanvasPixelArray*/\r\n\r\n    var theNavigator;\r\n    if (typeof navigator !== 'undefined') {\r\n        theNavigator = navigator;\r\n    } else {\r\n        theNavigator = {};\r\n    }\r\n\r\n    function extractVersion(versionString) {\r\n        var parts = versionString.split('.');\r\n        for (var i = 0, len = parts.length; i < len; ++i) {\r\n            parts[i] = parseInt(parts[i], 10);\r\n        }\r\n        return parts;\r\n    }\r\n\r\n    var isChromeResult;\r\n    var chromeVersionResult;\r\n    function isChrome() {\r\n        if (!defined(isChromeResult)) {\r\n            isChromeResult = false;\r\n            // Edge contains Chrome in the user agent too\r\n            if (!isEdge()) {\r\n                var fields = (/ Chrome\\/([\\.0-9]+)/).exec(theNavigator.userAgent);\r\n                if (fields !== null) {\r\n                    isChromeResult = true;\r\n                    chromeVersionResult = extractVersion(fields[1]);\r\n                }\r\n            }\r\n        }\r\n\r\n        return isChromeResult;\r\n    }\r\n\r\n    function chromeVersion() {\r\n        return isChrome() && chromeVersionResult;\r\n    }\r\n\r\n    var isSafariResult;\r\n    var safariVersionResult;\r\n    function isSafari() {\r\n        if (!defined(isSafariResult)) {\r\n            isSafariResult = false;\r\n\r\n            // Chrome and Edge contain Safari in the user agent too\r\n            if (!isChrome() && !isEdge() && (/ Safari\\/[\\.0-9]+/).test(theNavigator.userAgent)) {\r\n                var fields = (/ Version\\/([\\.0-9]+)/).exec(theNavigator.userAgent);\r\n                if (fields !== null) {\r\n                    isSafariResult = true;\r\n                    safariVersionResult = extractVersion(fields[1]);\r\n                }\r\n            }\r\n        }\r\n\r\n        return isSafariResult;\r\n    }\r\n\r\n    function safariVersion() {\r\n        return isSafari() && safariVersionResult;\r\n    }\r\n\r\n    var isWebkitResult;\r\n    var webkitVersionResult;\r\n    function isWebkit() {\r\n        if (!defined(isWebkitResult)) {\r\n            isWebkitResult = false;\r\n\r\n            var fields = (/ AppleWebKit\\/([\\.0-9]+)(\\+?)/).exec(theNavigator.userAgent);\r\n            if (fields !== null) {\r\n                isWebkitResult = true;\r\n                webkitVersionResult = extractVersion(fields[1]);\r\n                webkitVersionResult.isNightly = !!fields[2];\r\n            }\r\n        }\r\n\r\n        return isWebkitResult;\r\n    }\r\n\r\n    function webkitVersion() {\r\n        return isWebkit() && webkitVersionResult;\r\n    }\r\n\r\n    var isInternetExplorerResult;\r\n    var internetExplorerVersionResult;\r\n    function isInternetExplorer() {\r\n        if (!defined(isInternetExplorerResult)) {\r\n            isInternetExplorerResult = false;\r\n\r\n            var fields;\r\n            if (theNavigator.appName === 'Microsoft Internet Explorer') {\r\n                fields = /MSIE ([0-9]{1,}[\\.0-9]{0,})/.exec(theNavigator.userAgent);\r\n                if (fields !== null) {\r\n                    isInternetExplorerResult = true;\r\n                    internetExplorerVersionResult = extractVersion(fields[1]);\r\n                }\r\n            } else if (theNavigator.appName === 'Netscape') {\r\n                fields = /Trident\\/.*rv:([0-9]{1,}[\\.0-9]{0,})/.exec(theNavigator.userAgent);\r\n                if (fields !== null) {\r\n                    isInternetExplorerResult = true;\r\n                    internetExplorerVersionResult = extractVersion(fields[1]);\r\n                }\r\n            }\r\n        }\r\n        return isInternetExplorerResult;\r\n    }\r\n\r\n    function internetExplorerVersion() {\r\n        return isInternetExplorer() && internetExplorerVersionResult;\r\n    }\r\n\r\n    var isEdgeResult;\r\n    var edgeVersionResult;\r\n    function isEdge() {\r\n        if (!defined(isEdgeResult)) {\r\n            isEdgeResult = false;\r\n            var fields = (/ Edge\\/([\\.0-9]+)/).exec(theNavigator.userAgent);\r\n            if (fields !== null) {\r\n                isEdgeResult = true;\r\n                edgeVersionResult = extractVersion(fields[1]);\r\n            }\r\n        }\r\n        return isEdgeResult;\r\n    }\r\n\r\n    function edgeVersion() {\r\n        return isEdge() && edgeVersionResult;\r\n    }\r\n\r\n    var isFirefoxResult;\r\n    var firefoxVersionResult;\r\n    function isFirefox() {\r\n        if (!defined(isFirefoxResult)) {\r\n            isFirefoxResult = false;\r\n\r\n            var fields = /Firefox\\/([\\.0-9]+)/.exec(theNavigator.userAgent);\r\n            if (fields !== null) {\r\n                isFirefoxResult = true;\r\n                firefoxVersionResult = extractVersion(fields[1]);\r\n            }\r\n        }\r\n        return isFirefoxResult;\r\n    }\r\n\r\n    var isWindowsResult;\r\n    function isWindows() {\r\n        if (!defined(isWindowsResult)) {\r\n            isWindowsResult = /Windows/i.test(theNavigator.appVersion);\r\n        }\r\n        return isWindowsResult;\r\n    }\r\n\r\n    function firefoxVersion() {\r\n        return isFirefox() && firefoxVersionResult;\r\n    }\r\n\r\n    var hasPointerEvents;\r\n    function supportsPointerEvents() {\r\n        if (!defined(hasPointerEvents)) {\r\n            //While navigator.pointerEnabled is deprecated in the W3C specification\r\n            //we still need to use it if it exists in order to support browsers\r\n            //that rely on it, such as the Windows WebBrowser control which defines\r\n            //PointerEvent but sets navigator.pointerEnabled to false.\r\n\r\n            //Firefox disabled because of https://github.com/CesiumGS/cesium/issues/6372\r\n            hasPointerEvents = !isFirefox() && typeof PointerEvent !== 'undefined' && (!defined(theNavigator.pointerEnabled) || theNavigator.pointerEnabled);\r\n        }\r\n        return hasPointerEvents;\r\n    }\r\n\r\n    var imageRenderingValueResult;\r\n    var supportsImageRenderingPixelatedResult;\r\n    function supportsImageRenderingPixelated() {\r\n        if (!defined(supportsImageRenderingPixelatedResult)) {\r\n            var canvas = document.createElement('canvas');\r\n            canvas.setAttribute('style',\r\n                                'image-rendering: -moz-crisp-edges;' +\r\n                                'image-rendering: pixelated;');\r\n            //canvas.style.imageRendering will be undefined, null or an empty string on unsupported browsers.\r\n            var tmp = canvas.style.imageRendering;\r\n            supportsImageRenderingPixelatedResult = defined(tmp) && tmp !== '';\r\n            if (supportsImageRenderingPixelatedResult) {\r\n                imageRenderingValueResult = tmp;\r\n            }\r\n        }\r\n        return supportsImageRenderingPixelatedResult;\r\n    }\r\n\r\n    function imageRenderingValue() {\r\n        return supportsImageRenderingPixelated() ? imageRenderingValueResult : undefined;\r\n    }\r\n\r\n    function supportsWebP() {\r\n        //>>includeStart('debug', pragmas.debug);\r\n        if (!supportsWebP.initialized) {\r\n            throw new DeveloperError('You must call FeatureDetection.supportsWebP.initialize and wait for the promise to resolve before calling FeatureDetection.supportsWebP');\r\n        }\r\n        //>>includeEnd('debug');\r\n        return supportsWebP._result;\r\n    }\r\n    supportsWebP._promise = undefined;\r\n    supportsWebP._result = undefined;\r\n    supportsWebP.initialize = function() {\r\n        // From https://developers.google.com/speed/webp/faq#how_can_i_detect_browser_support_for_webp\r\n        if (defined(supportsWebP._promise)) {\r\n            return supportsWebP._promise;\r\n        }\r\n\r\n        var supportsWebPDeferred = when.defer();\r\n        supportsWebP._promise = supportsWebPDeferred.promise;\r\n        if (isEdge()) {\r\n            // Edge's WebP support with WebGL is incomplete.\r\n            // See bug report: https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/19221241/\r\n            supportsWebP._result = false;\r\n            supportsWebPDeferred.resolve(supportsWebP._result);\r\n            return supportsWebPDeferred.promise;\r\n        }\r\n\r\n        var image = new Image();\r\n        image.onload = function () {\r\n            supportsWebP._result = (image.width > 0) && (image.height > 0);\r\n            supportsWebPDeferred.resolve(supportsWebP._result);\r\n        };\r\n\r\n        image.onerror = function () {\r\n            supportsWebP._result = false;\r\n            supportsWebPDeferred.resolve(supportsWebP._result);\r\n        };\r\n\r\n        image.src = 'data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA';\r\n\r\n        return supportsWebPDeferred.promise;\r\n    };\r\n    Object.defineProperties(supportsWebP, {\r\n        initialized: {\r\n            get: function() {\r\n                return defined(supportsWebP._result);\r\n            }\r\n        }\r\n    });\r\n\r\n    var typedArrayTypes = [];\r\n    if (typeof ArrayBuffer !== 'undefined') {\r\n        typedArrayTypes.push(Int8Array, Uint8Array, Int16Array, Uint16Array, Int32Array, Uint32Array, Float32Array, Float64Array);\r\n\r\n        if (typeof Uint8ClampedArray !== 'undefined') {\r\n            typedArrayTypes.push(Uint8ClampedArray);\r\n        }\r\n\r\n        if (typeof CanvasPixelArray !== 'undefined') {\r\n            typedArrayTypes.push(CanvasPixelArray);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * A set of functions to detect whether the current browser supports\r\n     * various features.\r\n     *\r\n     * @exports FeatureDetection\r\n     */\r\n    var FeatureDetection = {\r\n        isChrome : isChrome,\r\n        chromeVersion : chromeVersion,\r\n        isSafari : isSafari,\r\n        safariVersion : safariVersion,\r\n        isWebkit : isWebkit,\r\n        webkitVersion : webkitVersion,\r\n        isInternetExplorer : isInternetExplorer,\r\n        internetExplorerVersion : internetExplorerVersion,\r\n        isEdge : isEdge,\r\n        edgeVersion : edgeVersion,\r\n        isFirefox : isFirefox,\r\n        firefoxVersion : firefoxVersion,\r\n        isWindows : isWindows,\r\n        hardwareConcurrency : defaultValue(theNavigator.hardwareConcurrency, 3),\r\n        supportsPointerEvents : supportsPointerEvents,\r\n        supportsImageRenderingPixelated: supportsImageRenderingPixelated,\r\n        supportsWebP: supportsWebP,\r\n        imageRenderingValue: imageRenderingValue,\r\n        typedArrayTypes: typedArrayTypes\r\n    };\r\n\r\n    /**\r\n     * Detects whether the current browser supports the full screen standard.\r\n     *\r\n     * @returns {Boolean} true if the browser supports the full screen standard, false if not.\r\n     *\r\n     * @see Fullscreen\r\n     * @see {@link http://dvcs.w3.org/hg/fullscreen/raw-file/tip/Overview.html|W3C Fullscreen Living Specification}\r\n     */\r\n    FeatureDetection.supportsFullscreen = function() {\r\n        return Fullscreen.supportsFullscreen();\r\n    };\r\n\r\n    /**\r\n     * Detects whether the current browser supports typed arrays.\r\n     *\r\n     * @returns {Boolean} true if the browser supports typed arrays, false if not.\r\n     *\r\n     * @see {@link http://www.khronos.org/registry/typedarray/specs/latest/|Typed Array Specification}\r\n     */\r\n    FeatureDetection.supportsTypedArrays = function() {\r\n        return typeof ArrayBuffer !== 'undefined';\r\n    };\r\n\r\n    /**\r\n     * Detects whether the current browser supports Web Workers.\r\n     *\r\n     * @returns {Boolean} true if the browsers supports Web Workers, false if not.\r\n     *\r\n     * @see {@link http://www.w3.org/TR/workers/}\r\n     */\r\n    FeatureDetection.supportsWebWorkers = function() {\r\n        return typeof Worker !== 'undefined';\r\n    };\r\n\r\n    /**\r\n     * Detects whether the current browser supports Web Assembly.\r\n     *\r\n     * @returns {Boolean} true if the browsers supports Web Assembly, false if not.\r\n     *\r\n     * @see {@link https://developer.mozilla.org/en-US/docs/WebAssembly}\r\n     */\r\n    FeatureDetection.supportsWebAssembly = function() {\r\n        return typeof WebAssembly !== 'undefined' && !FeatureDetection.isEdge();\r\n    };\r\nexport default FeatureDetection;\r\n"],"names":["_supportsFullscreen","theNavigator","isChromeResult","chromeVersionResult","isSafariResult","safariVersionResult","isWebkitResult","webkitVersionResult","isInternetExplorerResult","internetExplorerVersionResult","isEdgeResult","edgeVersionResult","isFirefoxResult","firefoxVersionResult","isWindowsResult","hasPointerEvents","imageRenderingValueResult","supportsImageRenderingPixelatedResult","_names","requestFullscreen","undefined","exitFullscreen","fullscreenEnabled","fullscreenElement","fullscreenchange","fullscreenerror","Fullscreen","extractVersion","versionString","parts","split","i","len","length","parseInt","isChrome","defined","isEdge","fields","exec","userAgent","isSafari","test","isWebkit","isNightly","isInternetExplorer","appName","isFirefox","supportsImageRenderingPixelated","canvas","document","createElement","setAttribute","tmp","style","imageRendering","supportsWebP","initialized","DeveloperError","_result","Object","defineProperties","element","get","supportsFullscreen","changeEventName","errorEventName","enabled","fullscreen","body","name","prefixes","prefix","vrDevice","vrDisplay","navigator","_promise","initialize","supportsWebPDeferred","when","defer","promise","resolve","image","Image","onload","width","height","onerror","src","typedArrayTypes","ArrayBuffer","push","Int8Array","Uint8Array","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","Uint8ClampedArray","CanvasPixelArray","FeatureDetection","chromeVersion","safariVersion","webkitVersion","internetExplorerVersion","edgeVersion","firefoxVersion","isWindows","appVersion","hardwareConcurrency","defaultValue","supportsPointerEvents","PointerEvent","pointerEnabled","imageRenderingValue","supportsTypedArrays","supportsWebWorkers","Worker","supportsWebAssembly","WebAssembly"],"mappings":"+FAEI,IAAIA,ECKAC,EAeAC,EACAC,EAqBAC,EACAC,EAsBAC,EACAC,EAoBAC,EACAC,EA2BAC,EACAC,EAiBAC,EACAC,EAcAC,EAYAC,EAcAC,EACAC,ED7KAC,EAAS,CACTC,uBAAoBC,EACpBC,oBAAiBD,EACjBE,uBAAoBF,EACpBG,uBAAoBH,EACpBI,sBAAmBJ,EACnBK,qBAAkBL,GAWlBM,EAAa,GCNjB,SAASC,EAAeC,GAEpB,IADA,IAAIC,EAAQD,EAAcE,MAAM,KACvBC,EAAI,EAAGC,EAAMH,EAAMI,OAAQF,EAAIC,IAAOD,EAC3CF,EAAME,GAAKG,SAASL,EAAME,GAAI,IAElC,OAAOF,EAKX,SAASM,IACL,IAAKC,UAAQlC,KACTA,GAAiB,GAEZmC,KAAU,CACX,IAAIC,EAAS,sBAAwBC,KAAKtC,EAAauC,WACxC,OAAXF,IACApC,GAAiB,EACjBC,EAAsBwB,EAAeW,EAAO,KAKxD,OAAOpC,EASX,SAASuC,IACL,IAAKL,UAAQhC,KACTA,GAAiB,GAGZ+B,MAAeE,KAAY,oBAAsBK,KAAKzC,EAAauC,YAAY,CAChF,IAAIF,EAAS,uBAAyBC,KAAKtC,EAAauC,WACzC,OAAXF,IACAlC,GAAiB,EACjBC,EAAsBsB,EAAeW,EAAO,KAKxD,OAAOlC,EASX,SAASuC,IACL,IAAKP,UAAQ9B,GAAiB,CAC1BA,GAAiB,EAEjB,IAAIgC,EAAS,gCAAkCC,KAAKtC,EAAauC,WAClD,OAAXF,IACAhC,GAAiB,GACjBC,EAAsBoB,EAAeW,EAAO,KACxBM,YAAcN,EAAO,IAIjD,OAAOhC,EASX,SAASuC,IAID,IAAIP,EAHHF,UAAQ5B,KACTA,GAA2B,EAGE,gCAAzBP,EAAa6C,QAEE,QADfR,EAAS,8BAA8BC,KAAKtC,EAAauC,cAErDhC,GAA2B,EAC3BC,EAAgCkB,EAAeW,EAAO,KAE1B,aAAzBrC,EAAa6C,SAEL,QADfR,EAAS,uCAAuCC,KAAKtC,EAAauC,cAE9DhC,GAA2B,EAC3BC,EAAgCkB,EAAeW,EAAO,MAIlE,OAAO9B,EASX,SAAS6B,IACL,IAAKD,UAAQ1B,GAAe,CACxBA,GAAe,EACf,IAAI4B,EAAS,oBAAsBC,KAAKtC,EAAauC,WACtC,OAAXF,IACA5B,GAAe,EACfC,EAAoBgB,EAAeW,EAAO,KAGlD,OAAO5B,EASX,SAASqC,IACL,IAAKX,UAAQxB,GAAkB,CAC3BA,GAAkB,EAElB,IAAI0B,EAAS,sBAAsBC,KAAKtC,EAAauC,WACtC,OAAXF,IACA1B,GAAkB,EAClBC,EAAuBc,EAAeW,EAAO,KAGrD,OAAO1B,EA+BX,SAASoC,IACL,IAAKZ,UAAQnB,GAAwC,CACjD,IAAIgC,EAASC,SAASC,cAAc,UACpCF,EAAOG,aAAa,QACA,iEAGpB,IAAIC,EAAMJ,EAAOK,MAAMC,gBACvBtC,EAAwCmB,UAAQiB,IAAgB,KAARA,KAEpDrC,EAA4BqC,GAGpC,OAAOpC,EAOX,SAASuC,IAEL,IAAKA,EAAaC,YACd,MAAM,IAAIC,iBAAe,2IAG7B,OAAOF,EAAaG,QDrLxBC,OAAOC,iBAAiBnC,EAAY,CAQhCoC,QAAU,CACNC,IAAM,WACF,GAAKrC,EAAWsC,qBAIhB,OAAOd,SAAShC,EAAOK,qBAa/B0C,gBAAkB,CACdF,IAAM,WACF,GAAKrC,EAAWsC,qBAIhB,OAAO9C,EAAOM,mBAWtB0C,eAAiB,CACbH,IAAM,WACF,GAAKrC,EAAWsC,qBAIhB,OAAO9C,EAAOO,kBAYtB0C,QAAU,CACNJ,IAAM,WACF,GAAKrC,EAAWsC,qBAIhB,OAAOd,SAAShC,EAAOI,qBAU/B8C,WAAa,CACTL,IAAM,WACF,GAAKrC,EAAWsC,qBAIhB,OAA8B,OAAvBtC,EAAWoC,YAW9BpC,EAAWsC,mBAAqB,WAC5B,GAAI5B,UAAQpC,GACR,OAAOA,EAGXA,GAAsB,EAEtB,IAAIqE,EAAOnB,SAASmB,KACpB,GAAsC,mBAA3BA,EAAKlD,kBASZ,OAPAD,EAAOC,kBAAoB,oBAC3BD,EAAOG,eAAiB,iBACxBH,EAAOI,kBAAoB,oBAC3BJ,EAAOK,kBAAoB,oBAC3BL,EAAOM,iBAAmB,mBAC1BN,EAAOO,gBAAkB,kBACzBzB,GAAsB,EAO1B,IAFA,IACIsE,EADAC,EAAW,CAAC,SAAU,MAAO,IAAK,KAAM,SAEnCxC,EAAI,EAAGC,EAAMuC,EAAStC,OAAQF,EAAIC,IAAOD,EAAG,CACjD,IAAIyC,EAASD,EAASxC,IAII,mBAAfsC,EADXC,EAAOE,EAAS,sBAMc,mBAAfH,EADXC,EAAOE,EAAS,wBAHhBtD,EAAOC,kBAAoBmD,EAC3BtE,GAAsB,GAU1BsE,EAAOE,EAAS,iBACc,mBAAnBtB,SAASoB,GAChBpD,EAAOG,eAAiBiD,GAExBA,EAAOE,EAAS,mBACc,mBAAnBtB,SAASoB,KAChBpD,EAAOG,eAAiBiD,IAKhCA,EAAOE,EAAS,yBACOpD,IAAnB8B,SAASoB,GACTpD,EAAOI,kBAAoBgD,GAE3BA,EAAOE,EAAS,yBACOpD,IAAnB8B,SAASoB,KACTpD,EAAOI,kBAAoBgD,IAKnCA,EAAOE,EAAS,yBACOpD,IAAnB8B,SAASoB,GACTpD,EAAOK,kBAAoB+C,GAE3BA,EAAOE,EAAS,yBACOpD,IAAnB8B,SAASoB,KACTpD,EAAOK,kBAAoB+C,IAKnCA,EAAOE,EAAS,wBAEcpD,IAA1B8B,SAAS,KAAOoB,KAED,OAAXE,IACAF,EAAO,sBAEXpD,EAAOM,iBAAmB8C,GAG9BA,EAAOE,EAAS,uBACcpD,IAA1B8B,SAAS,KAAOoB,KAED,OAAXE,IACAF,EAAO,qBAEXpD,EAAOO,gBAAkB6C,GAIjC,OAAOtE,GAiBX0B,EAAWP,kBAAoB,SAAS2C,EAASW,GACxC/C,EAAWsC,sBAIhBF,EAAQ5C,EAAOC,mBAAmB,CAAEuD,UAAWD,KAOnD/C,EAAWL,eAAiB,WACnBK,EAAWsC,sBAIhBd,SAAShC,EAAOG,mBAIpBK,EAAWR,OAASA,EC/OhBjB,EADqB,oBAAd0E,UACQA,UAEA,GAkMnBnB,EAAaoB,cAAWxD,EACxBoC,EAAaG,aAAUvC,EACvBoC,EAAaqB,WAAa,WAEtB,GAAIzC,UAAQoB,EAAaoB,UACrB,OAAOpB,EAAaoB,SAGxB,IAAIE,EAAuBC,OAAKC,QAEhC,GADAxB,EAAaoB,SAAWE,EAAqBG,QACzC5C,IAKA,OAFAmB,EAAaG,SAAU,EACvBmB,EAAqBI,QAAQ1B,EAAaG,SACnCmB,EAAqBG,QAGhC,IAAIE,EAAQ,IAAIC,MAahB,OAZAD,EAAME,OAAS,WACX7B,EAAaG,QAAWwB,EAAMG,MAAQ,GAAOH,EAAMI,OAAS,EAC5DT,EAAqBI,QAAQ1B,EAAaG,UAG9CwB,EAAMK,QAAU,WACZhC,EAAaG,SAAU,EACvBmB,EAAqBI,QAAQ1B,EAAaG,UAG9CwB,EAAMM,IAAM,kFAELX,EAAqBG,SAEhCrB,OAAOC,iBAAiBL,EAAc,CAClCC,YAAa,CACTM,IAAK,WACD,OAAO3B,UAAQoB,EAAaG,aAKxC,IAAI+B,EAAkB,GACK,oBAAhBC,cACPD,EAAgBE,KAAKC,UAAWC,WAAYC,WAAYC,YAAaC,WAAYC,YAAaC,aAAcC,cAE3E,oBAAtBC,mBACPX,EAAgBE,KAAKS,mBAGO,oBAArBC,kBACPZ,EAAgBE,KAAKU,mBAU7B,IAAIC,EAAmB,CACnBpE,SAAWA,EACXqE,cAnOJ,WACI,OAAOrE,KAAchC,GAmOrBsC,SAAWA,EACXgE,cA9MJ,WACI,OAAOhE,KAAcpC,GA8MrBsC,SAAWA,EACX+D,cA3LJ,WACI,OAAO/D,KAAcpC,GA2LrBsC,mBAAqBA,EACrB8D,wBAjKJ,WACI,OAAO9D,KAAwBpC,GAiK/B4B,OAASA,EACTuE,YAjJJ,WACI,OAAOvE,KAAY1B,GAiJnBoC,UAAYA,EACZ8D,eAxHJ,WACI,OAAO9D,KAAelC,GAwHtBiG,UAhIJ,WAII,OAHK1E,UAAQtB,KACTA,EAAkB,WAAW4B,KAAKzC,EAAa8G,aAE5CjG,GA6HPkG,oBAAsBC,eAAahH,EAAa+G,oBAAqB,GACrEE,sBAtHJ,WAUI,OATK9E,UAAQrB,KAOTA,GAAoBgC,KAAuC,oBAAjBoE,gBAAkC/E,UAAQnC,EAAamH,iBAAmBnH,EAAamH,iBAE9HrG,GA6GPiC,gCAAiCA,EACjCQ,aAAcA,EACd6D,oBA1FJ,WACI,OAAOrE,IAAoChC,OAA4BI,GA0FvEsE,gBAAiBA,EAWrB1B,mBAAsC,WAClC,OAAOtC,EAAWsC,sBAUtBsD,oBAAuC,WACnC,MAA8B,oBAAhB3B,aAUlB4B,mBAAsC,WAClC,MAAyB,oBAAXC,QAUlBC,oBAAuC,WACnC,MAA8B,oBAAhBC,cAAgCnB,EAAiBlE"}
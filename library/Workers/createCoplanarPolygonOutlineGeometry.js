define(["./when-7ef6387a","./Check-ed6a1804","./Math-55f9392d","./Ellipsoid-911f8bc2","./Transforms-d8f9dcbd","./RuntimeError-5b606d78","./Cartesian2-ff47d58f","./WebGLConstants-30fc6f5c","./ComponentDatatype-a863af81","./GeometryAttribute-45a4c7c8","./GeometryAttributes-cb18da36","./AttributeCompression-31bd05f3","./GeometryPipeline-bccb2d54","./EncodedCartesian3-fe5f78b3","./IndexDatatype-891b5845","./IntersectionTests-c6e3245b","./Plane-02009bbb","./GeometryInstance-ca11f8fa","./arrayRemoveDuplicates-8221727f","./EllipsoidTangentPlane-dfb29add","./OrientedBoundingBox-d4914ac2","./CoplanarPolygonGeometryLibrary-eb9019ed","./ArcType-2ee8dfbb","./EllipsoidRhumbLine-bd68e2e2","./PolygonPipeline-41e201d5","./PolygonGeometryLibrary-0c038e3c"],(function(e,t,r,n,o,i,a,y,c,l,p,d,s,u,f,m,b,g,h,P,v,G,C,k,L,E){"use strict";function T(e){for(var t=e.length,r=new Float64Array(3*t),n=f.IndexDatatype.createTypedArray(t,2*t),o=0,i=0,a=0;a<t;a++){var y=e[a];r[o++]=y.x,r[o++]=y.y,r[o++]=y.z,n[i++]=a,n[i++]=(a+1)%t}var d=new p.GeometryAttributes({position:new l.GeometryAttribute({componentDatatype:c.ComponentDatatype.DOUBLE,componentsPerAttribute:3,values:r})});return new l.Geometry({attributes:d,indices:n,primitiveType:l.PrimitiveType.LINES})}function H(r){var n=(r=e.defaultValue(r,e.defaultValue.EMPTY_OBJECT)).polygonHierarchy;t.Check.defined("options.polygonHierarchy",n),this._polygonHierarchy=n,this._workerName="createCoplanarPolygonOutlineGeometry",this.packedLength=E.PolygonGeometryLibrary.computeHierarchyPackedLength(n)+1}H.fromPositions=function(r){return r=e.defaultValue(r,e.defaultValue.EMPTY_OBJECT),t.Check.defined("options.positions",r.positions),new H({polygonHierarchy:{positions:r.positions}})},H.pack=function(r,n,o){return t.Check.typeOf.object("value",r),t.Check.defined("array",n),o=e.defaultValue(o,0),n[o=E.PolygonGeometryLibrary.packPolygonHierarchy(r._polygonHierarchy,n,o)]=r.packedLength,n};var w={polygonHierarchy:{}};return H.unpack=function(r,n,o){t.Check.defined("array",r),n=e.defaultValue(n,0);var i=E.PolygonGeometryLibrary.unpackPolygonHierarchy(r,n);n=i.startingIndex,delete i.startingIndex;var a=r[n];return e.defined(o)||(o=new H(w)),o._polygonHierarchy=i,o.packedLength=a,o},H.createGeometry=function(e){var t=e._polygonHierarchy,r=t.positions;if(!((r=h.arrayRemoveDuplicates(r,n.Cartesian3.equalsEpsilon,!0)).length<3)&&G.CoplanarPolygonGeometryLibrary.validOutline(r)){var i=E.PolygonGeometryLibrary.polygonOutlinesFromHierarchy(t,!1);if(0!==i.length){for(var a=[],y=0;y<i.length;y++){var c=new g.GeometryInstance({geometry:T(i[y])});a.push(c)}var p=s.GeometryPipeline.combineInstances(a)[0],d=o.BoundingSphere.fromPoints(t.positions);return new l.Geometry({attributes:p.attributes,indices:p.indices,primitiveType:p.primitiveType,boundingSphere:d})}}},function(t,r){return e.defined(r)&&(t=H.unpack(t,r)),t._ellipsoid=n.Ellipsoid.clone(t._ellipsoid),H.createGeometry(t)}}));
//# sourceMappingURL=createCoplanarPolygonOutlineGeometry.js.map

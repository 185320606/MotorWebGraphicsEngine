define(["exports","./when-7ef6387a","./DeveloperError-101d8eb9","./Check-71521db1","./Cartesian3-ca5d3f12","./Cartesian2-d6edb867"],(function(e,t,n,o,r,a){"use strict";var c={octEncodeInRange:function(e,t,a){o.Check.defined("vector",e),o.Check.defined("result",a);var c=r.Cartesian3.magnitudeSquared(e);if(Math.abs(c-1)>r.CesiumMath.EPSILON6)throw new n.DeveloperError("vector must be normalized.");if(a.x=e.x/(Math.abs(e.x)+Math.abs(e.y)+Math.abs(e.z)),a.y=e.y/(Math.abs(e.x)+Math.abs(e.y)+Math.abs(e.z)),e.z<0){var d=a.x,i=a.y;a.x=(1-Math.abs(i))*r.CesiumMath.signNotZero(d),a.y=(1-Math.abs(d))*r.CesiumMath.signNotZero(i)}return a.x=r.CesiumMath.toSNorm(a.x,t),a.y=r.CesiumMath.toSNorm(a.y,t),a},octEncode:function(e,t){return c.octEncodeInRange(e,255,t)}},d=new a.Cartesian2,i=new Uint8Array(1);function u(e){return i[0]=e,i[0]}c.octEncodeToCartesian4=function(e,t){return c.octEncodeInRange(e,65535,d),t.x=u(d.x*(1/256)),t.y=u(d.x),t.z=u(d.y*(1/256)),t.w=u(d.y),t},c.octDecodeInRange=function(e,t,a,c){if(o.Check.defined("result",c),e<0||e>a||t<0||t>a)throw new n.DeveloperError("x and y must be unsigned normalized integers between 0 and "+a);if(c.x=r.CesiumMath.fromSNorm(e,a),c.y=r.CesiumMath.fromSNorm(t,a),c.z=1-(Math.abs(c.x)+Math.abs(c.y)),c.z<0){var d=c.x;c.x=(1-Math.abs(c.y))*r.CesiumMath.signNotZero(d),c.y=(1-Math.abs(d))*r.CesiumMath.signNotZero(c.y)}return r.Cartesian3.normalize(c,c)},c.octDecode=function(e,t,n){return c.octDecodeInRange(e,t,255,n)},c.octDecodeFromCartesian4=function(e,t){o.Check.typeOf.object("encoded",e),o.Check.typeOf.object("result",t);var r=e.x,a=e.y,d=e.z,i=e.w;if(r<0||r>255||a<0||a>255||d<0||d>255||i<0||i>255)throw new n.DeveloperError("x, y, z, and w must be unsigned normalized integers between 0 and 255");var u=256*r+a,f=256*d+i;return c.octDecodeInRange(u,f,65535,t)},c.octPackFloat=function(e){return o.Check.defined("encoded",e),256*e.x+e.y};var f=new a.Cartesian2;function h(e){return e>>1^-(1&e)}c.octEncodeFloat=function(e){return c.octEncode(e,f),c.octPackFloat(f)},c.octDecodeFloat=function(e,t){o.Check.defined("value",e);var n=e/256,r=Math.floor(n),a=256*(n-r);return c.octDecode(r,a,t)},c.octPack=function(e,t,n,r){o.Check.defined("v1",e),o.Check.defined("v2",t),o.Check.defined("v3",n),o.Check.defined("result",r);var a=c.octEncodeFloat(e),d=c.octEncodeFloat(t),i=c.octEncode(n,f);return r.x=65536*i.x+a,r.y=65536*i.y+d,r},c.octUnpack=function(e,t,n,r){o.Check.defined("packed",e),o.Check.defined("v1",t),o.Check.defined("v2",n),o.Check.defined("v3",r);var a=e.x/65536,d=Math.floor(a),i=65536*(a-d);a=e.y/65536;var u=Math.floor(a),f=65536*(a-u);c.octDecodeFloat(i,t),c.octDecodeFloat(f,n),c.octDecode(d,u,r)},c.compressTextureCoordinates=function(e){return o.Check.defined("textureCoordinates",e),4096*(4095*e.x|0)+(4095*e.y|0)},c.decompressTextureCoordinates=function(e,t){o.Check.defined("compressed",e),o.Check.defined("result",t);var n=e/4096,r=Math.floor(n);return t.x=r/4095,t.y=(e-4096*r)/4095,t},c.zigZagDeltaDecode=function(e,n,r){o.Check.defined("uBuffer",e),o.Check.defined("vBuffer",n),o.Check.typeOf.number.equals("uBuffer.length","vBuffer.length",e.length,n.length),t.defined(r)&&o.Check.typeOf.number.equals("uBuffer.length","heightBuffer.length",e.length,r.length);for(var a=e.length,c=0,d=0,i=0,u=0;u<a;++u)c+=h(e[u]),d+=h(n[u]),e[u]=c,n[u]=d,t.defined(r)&&(i+=h(r[u]),r[u]=i)},e.AttributeCompression=c}));
//# sourceMappingURL=AttributeCompression-9dc08742.js.map

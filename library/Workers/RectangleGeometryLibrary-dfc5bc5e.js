define(["exports","./when-7ef6387a","./Check-ed6a1804","./Math-85667bf9","./Ellipsoid-1cbb4ac9","./Transforms-b7ddb22a","./Cartesian2-73569d25","./GeometryAttribute-186d4378"],(function(t,a,n,r,e,o,s,i){"use strict";var h=Math.cos,g=Math.sin,u=Math.sqrt,C={computePosition:function(t,n,r,e,o,s,i){var C=n.radiiSquared,c=t.nwCorner,l=t.boundingRectangle,d=c.latitude-t.granYCos*e+o*t.granXSin,M=h(d),S=g(d),w=C.z*S,m=c.longitude+e*t.granYSin+o*t.granXCos,X=M*h(m),Y=M*g(m),p=C.x*X,v=C.y*Y,O=u(p*X+v*Y+w*S);if(s.x=p/O,s.y=v/O,s.z=w/O,r){var R=t.stNwCorner;a.defined(R)?(d=R.latitude-t.stGranYCos*e+o*t.stGranXSin,m=R.longitude+e*t.stGranYSin+o*t.stGranXCos,i.x=(m-t.stWest)*t.lonScalar,i.y=(d-t.stSouth)*t.latScalar):(i.x=(m-l.west)*t.lonScalar,i.y=(d-l.south)*t.latScalar)}}},c=new i.Matrix2,l=new e.Cartesian3,d=new e.Cartographic,M=new e.Cartesian3,S=new o.GeographicProjection;function w(t,a,n,r,o,s,h){var g=Math.cos(a),u=r*g,C=n*g,d=Math.sin(a),w=r*d,m=n*d;l=S.project(t,l),l=e.Cartesian3.subtract(l,M,l);var X=i.Matrix2.fromRotation(a,c);l=i.Matrix2.multiplyByVector(X,l,l),l=e.Cartesian3.add(l,M,l),s-=1,h-=1;var Y=(t=S.unproject(l,t)).latitude,p=Y+s*m,v=Y-u*h,O=Y-u*h+s*m,R=Math.max(Y,p,v,O),f=Math.min(Y,p,v,O),_=t.longitude,G=_+s*C,b=_+h*w,x=_+h*w+s*C;return{north:R,south:f,east:Math.max(_,G,b,x),west:Math.min(_,G,b,x),granYCos:u,granYSin:w,granXCos:C,granXSin:m,nwCorner:t}}C.computeOptions=function(t,a,e,o,i,h,g){var u,C,c,l,m,X=t.east,Y=t.west,p=t.north,v=t.south,O=!1,R=!1;p===r.CesiumMath.PI_OVER_TWO&&(O=!0),v===-r.CesiumMath.PI_OVER_TWO&&(R=!0);var f=p-v;c=(m=Y>X?r.CesiumMath.TWO_PI-Y+X:X-Y)/((u=Math.ceil(m/a)+1)-1),l=f/((C=Math.ceil(f/a)+1)-1);var _=s.Rectangle.northwest(t,h),G=s.Rectangle.center(t,d);0===e&&0===o||(G.longitude<_.longitude&&(G.longitude+=r.CesiumMath.TWO_PI),M=S.project(G,M));var b=l,x=c,P=s.Rectangle.clone(t,i),W={granYCos:b,granYSin:0,granXCos:x,granXSin:0,nwCorner:_,boundingRectangle:P,width:u,height:C,northCap:O,southCap:R};if(0!==e){var y=w(_,e,c,l,0,u,C);if(p=y.north,v=y.south,X=y.east,Y=y.west,p<-r.CesiumMath.PI_OVER_TWO||p>r.CesiumMath.PI_OVER_TWO||v<-r.CesiumMath.PI_OVER_TWO||v>r.CesiumMath.PI_OVER_TWO)throw new n.DeveloperError("Rotated rectangle is invalid.  It crosses over either the north or south pole.");W.granYCos=y.granYCos,W.granYSin=y.granYSin,W.granXCos=y.granXCos,W.granXSin=y.granXSin,P.north=p,P.south=v,P.east=X,P.west=Y}if(0!==o){e-=o;var I=s.Rectangle.northwest(P,g),T=w(I,e,c,l,0,u,C);W.stGranYCos=T.granYCos,W.stGranXCos=T.granXCos,W.stGranYSin=T.granYSin,W.stGranXSin=T.granXSin,W.stNwCorner=I,W.stWest=T.west,W.stSouth=T.south}return W},t.RectangleGeometryLibrary=C}));
//# sourceMappingURL=RectangleGeometryLibrary-dfc5bc5e.js.map
